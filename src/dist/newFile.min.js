"use strict";var bcrypt=require("bcrypt"),collection=require("./config"),_require=require("."),app=_require.app;app.post("/login",function(r,n){var s;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(collection.findOne({name:r.body.username}));case 3:if(s=e.sent){e.next=8;break}n.send("Username not found"),e.next=12;break;case 8:return e.next=10,regeneratorRuntime.awrap(bcrypt.compare(r.body.password,s.password));case 10:e.sent?(r.session.user=s,n.render("home")):n.send("Wrong password");case 12:case 13:return e.prev=13,e.finish(13);case 15:case"end":return e.stop()}},null,null,[[0,,13,15]])});
//# sourceMappingURL=newFile.min.js.map
